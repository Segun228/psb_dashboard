# üìä PSB Analytics Dashboard

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

![Grafana](https://img.shields.io/badge/Grafana-F2F4F8?style=for-the-badge&logo=grafana&logoColor=orange)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)

## üöÄ –ñ–∏–≤–æ–π –¥–∞—à–±–æ—Ä–¥

**[üëâ –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥](https://psb-dashboard.onrender.com)**

- **–õ–æ–≥–∏–Ω:** `admin`
- **–ü–∞—Ä–æ–ª—å:** `admin`

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç **–ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫**
- **–§–û–¢** - —Ñ–æ–Ω–¥ –æ–ø–ª–∞—Ç—ã —Ç—Ä—É–¥–∞
- **–¢–µ–∫—É—á–µ—Å—Ç—å** –ø–µ—Ä—Å–æ–Ω–∞–ª–∞  
- **–ù–∞–ª–æ–≥–∏** - —Ñ–∏—Å–∫–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å** - –∫–∞–¥—Ä–æ–≤—ã–π —É—á–µ—Ç

### üìä **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏**
- üìà –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã (—Ñ–∞–∫—Ç vs –ø–ª–∞–Ω)
- üéØ KPI –¥–∞—à–±–æ—Ä–¥—ã —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø–ª–∞–Ω–∞
- üìâ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- üîÑ –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

### ‚ö° **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- –ì–æ—Ç–æ–≤—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    A[Excel Data] --> B[Python Loader]
    B --> C[PostgreSQL]
    C --> D[Grafana]
    D --> E[üìä –î–∞—à–±–æ—Ä–¥—ã]
    
    F[Neon.tech] --> C
    G[Render.com] --> D
```

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
git clone <repository-url>
cd psb_dashboard

# –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª
cp .env.example .env
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
cd scripts
pip install -r requirements.txt
python excel_loader.py ../data/data.xlsx --all-sheets
```

### 3. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
docker-compose up -d
```

–û—Ç–∫—Ä–æ–π http://localhost:3000

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
psb_dashboard/
‚îú‚îÄ‚îÄ üê≥ Dockerfile                 # Grafana —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –¥–∞—à–±–æ—Ä–¥–æ–º
‚îú‚îÄ‚îÄ üìä dashboard.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–∞
‚îú‚îÄ‚îÄ ‚öôÔ∏è dashboard.yaml            # Provisioning –¥–∞—à–±–æ—Ä–¥–æ–≤
‚îú‚îÄ‚îÄ üîå datasource.yaml           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îú‚îÄ‚îÄ üóÉÔ∏è data/data.xlsx           # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ üìú docker-compose.yaml       # –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ üêç scripts/
‚îÇ   ‚îú‚îÄ‚îÄ excel_loader.py          # –ó–∞–≥—Ä—É–∑—á–∏–∫ Excel ‚Üí PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ üîß init-scripts/             # SQL —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Neon.tech)
```env
DATABASE_URL=postgresql://user:pass@host.neon.tech/db?sslmode=require
```

### Grafana
```env
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin
GF_SERVER_HTTP_PORT=10000
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```env
POSTGRES_HOST=localhost
POSTGRES_DB=analytics_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgrespassword
```

## üìö –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| **Grafana** | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–∞—à–±–æ—Ä–¥—ã |
| **PostgreSQL** | –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| **Python + Pandas** | ETL –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö |
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π |
| **Neon.tech** | Serverless PostgreSQL |
| **Render.com** | –•–æ—Å—Ç–∏–Ω–≥ –¥–∞—à–±–æ—Ä–¥–∞ |

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã SQL

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞
```sql
SELECT 
    AVG(–§–∞–∫—Ç) / AVG(–ü–ª–∞–Ω) * 100 as completion
FROM metrics_data 
WHERE metric = '${metric}' AND year = ${year}
```

### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏
```sql
SELECT 
    STDDEV(value) / AVG(value) as cv
FROM metrics_data 
WHERE metric_type = '–§–∞–∫—Ç'
GROUP BY metric
```

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã
```sql
SELECT 
    time,
    MAX(CASE WHEN metric_type = '–§–∞–∫—Ç' THEN value END) as fact,
    MAX(CASE WHEN metric_type = '–ü–ª–∞–Ω' THEN value END) as plan
FROM metrics_data 
WHERE metric = '${metric}'
GROUP BY time
```

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–≥—Ä—É–∑–∫–∞** - Excel —Ñ–∞–π–ª—ã ‚Üí PostgreSQL —á–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç
2. **–•—Ä–∞–Ω–µ–Ω–∏–µ** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö  
3. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã –≤ Grafana
4. **–ê–Ω–∞–ª–∏–∑** - –ì–æ—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ KPI –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

## üöÄ –î–µ–ø–ª–æ–π

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ **Render.com** –ø—Ä–∏ –ø—É—à–µ –≤ main –≤–µ—Ç–∫—É.

## üìà –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞

- üìÖ **–¢—Ä–µ–Ω–¥—ã** - –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ –º–µ—Å—è—Ü–∞–º
- üéØ **KPI** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π  
- üìä **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
- üîÑ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ vs –ø–ª–∞–Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏
1. –î–æ–±–∞–≤—å –¥–∞–Ω–Ω—ã–µ –≤ Excel
2. –ó–∞–≥—Ä—É–∑–∏ —á–µ—Ä–µ–∑ `excel_loader.py`
3. –ù–∞—Å—Ç—Ä–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤ Grafana

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
docker-compose up -d

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python scripts/excel_loader.py data/data.xlsx --all-sheets
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω - –ø–æ—Å—Ç–∞–≤—å –∑–≤–µ–∑–¥—É!**

